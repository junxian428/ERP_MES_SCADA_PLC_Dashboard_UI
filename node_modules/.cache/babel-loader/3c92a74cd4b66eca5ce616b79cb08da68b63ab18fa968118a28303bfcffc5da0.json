{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"container mt-5 text-center\"\n};\nconst _hoisted_2 = {\n  class: \"message-container\"\n};\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"container mt-5 text-center\"\n}, [/*#__PURE__*/_createElementVNode(\"a\", {\n  href: \"javascript:void(0)\",\n  class: \"btn btn-lg btn-primary\",\n  id: \"logoutBtn\"\n}, \"Logout\"), /*#__PURE__*/_createElementVNode(\"br\")], -1 /* HOISTED */);\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1 /* HOISTED */);\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1 /* HOISTED */);\nconst _hoisted_6 = {\n  class: \"button-container\"\n};\nconst _hoisted_7 = [\"src\"];\nconst _hoisted_8 = [\"src\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createCommentVNode(\"\"), _createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"h5\", null, _toDisplayString($setup.message), 1 /* TEXT */)])]), _hoisted_3, _hoisted_4, _hoisted_5, _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"button\", {\n    class: \"button\",\n    onMouseover: _cache[0] || (_cache[0] = $event => $options.toggleHoverEffect(1)),\n    onMouseout: _cache[1] || (_cache[1] = $event => $options.toggleHoverEffect(1)),\n    onClick: _cache[2] || (_cache[2] = (...args) => $options.navigateToItems && $options.navigateToItems(...args))\n  }, [_createElementVNode(\"img\", {\n    src: $data.buttonImages[0],\n    alt: \"Button 1\"\n  }, null, 8 /* PROPS */, _hoisted_7)], 32 /* HYDRATE_EVENTS */), _createElementVNode(\"button\", {\n    class: \"button\",\n    onMouseover: _cache[3] || (_cache[3] = $event => $options.toggleHoverEffect(2)),\n    onMouseout: _cache[4] || (_cache[4] = $event => $options.toggleHoverEffect(2)),\n    onClick: _cache[5] || (_cache[5] = (...args) => $options.navigateToItems2 && $options.navigateToItems2(...args))\n  }, [_createElementVNode(\"img\", {\n    src: $data.buttonImages[1],\n    alt: \"Button 2\"\n  }, null, 8 /* PROPS */, _hoisted_8)], 32 /* HYDRATE_EVENTS */)])], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["class","_createElementVNode","href","id","_createCommentVNode","_hoisted_1","_hoisted_2","_toDisplayString","$setup","message","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","onMouseover","_cache","$event","$options","toggleHoverEffect","onMouseout","onClick","args","navigateToItems","src","$data","buttonImages","alt","navigateToItems2"],"sources":["D:\\Project\\VUEJSSPRING_CRUD_JWT\\vue-crud-api-jwt-vuex\\src\\views\\HomeView.vue"],"sourcesContent":["<template>\n<!---->\n  <div class=\"container mt-5 text-center\">\n      <div class=\"message-container\">\n        <h5>{{ message }}</h5>\n      </div>\n  </div>\n      \n  <div class=\"container mt-5 text-center\">\n    <a href=\"javascript:void(0)\" class=\"btn btn-lg btn-primary\" id=\"logoutBtn\">Logout</a>\n    <br>\n\n  </div>\n\n\n  <br>\n  <br>\n\n  \n  <div class=\"button-container\" >\n  <button class=\"button\" @mouseover=\"toggleHoverEffect(1)\" @mouseout=\"toggleHoverEffect(1)\" @click=\"navigateToItems\">\n    <img :src=\"buttonImages[0]\" alt=\"Button 1\">\n  </button>\n  <button class=\"button\" @mouseover=\"toggleHoverEffect(2)\" @mouseout=\"toggleHoverEffect(2)\" @click=\"navigateToItems2\">\n    <img :src=\"buttonImages[1]\" alt=\"Button 2\">\n  </button>\n</div>\n\n\n</template>\n\n<script>\nimport {onMounted, ref} from \"vue\";\nimport axios from \"axios\";\nimport {useRouter} from \"vue-router\";\nimport VueCookies from 'vue-cookies';\n\nexport default {\n  name: \"Home\",\n  data() {\n  return {\n    buttonImages: ['Config.png', 'Monitoring.png'],  // Replace with the paths to your button images\n    hoverEffects: [false, false]  // Track hover effects for each button\n  };\n},\nmethods: {\n  navigateToItems() {\n    this.$router.push(\"/Items\"); // Replace \"/Items\" with the desired route path\n  },\n  navigateToItems2() {\n    this.$router.push(\"/Monitor\"); // Replace \"/Items\" with the desired route path\n  },\n  toggleHoverEffect(index) {\n    this.hoverEffects[index - 1] = !this.hoverEffects[index - 1];\n  }\n},\n\n\n  setup() {\n    const message = ref('');\n    const router = useRouter();\n\n    /*\n    onMounted(async () => {\n      try {\n        const {data} = await axios.get('user');\n\n        message.value = `Hi ${data.name}`;\n      } catch (e) {\n        await router.push('/login');\n      }\n    });\n\n    */\n\n    \n    onMounted(async () => {\n      const sessionCookie = document.cookie.replace(\n        /(?:(?:^|.*;\\s*)access_Token\\s*\\=\\s*([^;]*).*$)|^.*$/,\n        '$1'\n      );\n      console.log(sessionCookie);\n      const logoutBtn = document.getElementById('logoutBtn');\n\n\n      //\n      if(sessionCookie != \"\"){\n        \n        console.log(\"logout button event attached\");\n        logoutBtn.addEventListener('click', logout);\n      } else{\n        logoutBtn.textContent = \"login\";\n        logoutBtn.addEventListener('click', login);\n        //message.value = `Please login your account`;\n\n      }\n      \n      //headers.append('Access-Control-Allow-Origin', 'http://localhost:3000');\n      //headers.append('Access-Control-Allow-Credentials', 'true');\n      try {\n        const response = await axios.get('http://localhost:8087/dashboard', {\n          headers: {\n            Authorization: `Bearer ${sessionCookie}`,\n            'Access-Control-Allow-Origin': '*'\n          },\n        });\n\n        const { data } = response;\n\n\n        //console.log(data);\n        //\n\n    \n        // Access the object properties\n        const username = data.username;\n        const blob = data.blob;\n\n        console.log(\"Username:\", username);\n        //console.log(\"Blob:\",  atob(blob));\n        VueCookies.set('blob_data',  blob, '7d'); // Save the access token in a cookie for 7 days\n\n        const blobCookie = document.cookie.replace(\n          /(?:(?:^|.*;\\s*)blob_data\\s*\\=\\s*([^;]*).*$)|^.*$/,\n          '$1'\n        );\n      //console.log(blobCookie);\n      //\n      // URL decoding\n      //var decodedValue = decodeURIComponent(blobCookie);\n\n      // Base64 decoding\n      //var base64DecodedValue = atob(decodedValue);\n      //console.log(base64DecodedValue);\n        //\n        message.value = `Username : ${data.username}`;\n        if(data.username === undefined){\n          message.value = \"Please login your account\";\n\n        }\n      } catch (error) {\n        console.error(error);\n        await router.push('/');\n      }\n    });\n    \n\n        function convertToLogin() {\n      logoutBtn.textContent = 'Login';\n      logoutBtn.removeEventListener('click', logout);\n      logoutBtn.addEventListener('click', login);\n    }\n          function login() {\n        // Perform login actions here\n        console.log('Login clicked');\n        router.push('/login');\n      }\n\n\n\n    const logout = async () => {\n      const sessionCookie = document.cookie.replace(\n        /(?:(?:^|.*;\\s*)access_Token\\s*\\=\\s*([^;]*).*$)|^.*$/,\n        '$1'\n      );\n      console.log(sessionCookie);\n\n      //\n\n      axios.post('http://javaspring-env.eba-dzxvrt3g.us-east-1.elasticbeanstalk.com/api/v1/auth/quit')\n        .then(() => {\n          // Handle successful logout\n          // Clear any user-related data in your Vue.js application\n          // Redirect the user to the login page or any other desired route\n          console.log(\"success\");\n          sessionStorage.removeItem('access_Token');\n          document.cookie = \"access_Token=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;\";\n          localStorage.removeItem('access_Token');\n\n          message.value = `You are logout please login again`;\n          //\n\n          //\n          convertToLogin();\n          router.push('/login');\n\n        })\n        .catch(error => {\n          // Handle logout error\n          console.log(error);\n          router.push('/login');\n        });\n    }\n\n    return {\n      message,\n      logout\n    }\n\n\n\n  }\n}\n</script>\n\n\n<style>\n.button-container {\ndisplay: flex;\njustify-content: center;\nalign-items: center;\n}\n\n.button {\ndisplay: flex;\njustify-content: center;\nalign-items: center;\nwidth: 200px;\nheight: 500px;\nborder: none;\nbackground-color: transparent;\ncursor: pointer;\ntransition: transform 0.2s;\n}\n\n.button img {\nwidth: 100%;\nheight: 100%;\nobject-fit: cover;\n}\n\n.button:hover {\ntransform: scale(1.1);\n}\n\n/* Add additional styling and hover effects as desired */\n</style>\n\n"],"mappings":";;EAEOA,KAAK,EAAC;AAA4B;;EAC9BA,KAAK,EAAC;AAAmB;gCAKlCC,mBAAA,CAIM;EAJDD,KAAK,EAAC;AAA4B,I,aACrCC,mBAAA,CAAqF;EAAlFC,IAAI,EAAC,oBAAoB;EAACF,KAAK,EAAC,wBAAwB;EAACG,EAAE,EAAC;GAAY,QAAM,G,aACjFF,mBAAA,CAAI,M;gCAKNA,mBAAA,CAAI;gCACJA,mBAAA,CAAI;;EAGCD,KAAK,EAAC;AAAkB;;;;6DAlB/BI,mBAAA,IAAO,EACLH,mBAAA,CAIM,OAJNI,UAIM,GAHFJ,mBAAA,CAEM,OAFNK,UAEM,GADJL,mBAAA,CAAsB,YAAAM,gBAAA,CAAfC,MAAA,CAAAC,OAAO,iB,KAIpBC,UAIM,EAGNC,UAAI,EACJC,UAAI,EAGJX,mBAAA,CAOI,OAPJY,UAOI,GANJZ,mBAAA,CAES;IAFDD,KAAK,EAAC,QAAQ;IAAEc,WAAS,EAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEC,QAAA,CAAAC,iBAAiB;IAAMC,UAAQ,EAAAJ,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEC,QAAA,CAAAC,iBAAiB;IAAME,OAAK,EAAAL,MAAA,QAAAA,MAAA,UAAAM,IAAA,KAAEJ,QAAA,CAAAK,eAAA,IAAAL,QAAA,CAAAK,eAAA,IAAAD,IAAA,CAAe;MAC/GpB,mBAAA,CAA2C;IAArCsB,GAAG,EAAEC,KAAA,CAAAC,YAAY;IAAKC,GAAG,EAAC;kEAElCzB,mBAAA,CAES;IAFDD,KAAK,EAAC,QAAQ;IAAEc,WAAS,EAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEC,QAAA,CAAAC,iBAAiB;IAAMC,UAAQ,EAAAJ,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEC,QAAA,CAAAC,iBAAiB;IAAME,OAAK,EAAAL,MAAA,QAAAA,MAAA,UAAAM,IAAA,KAAEJ,QAAA,CAAAU,gBAAA,IAAAV,QAAA,CAAAU,gBAAA,IAAAN,IAAA,CAAgB;MAChHpB,mBAAA,CAA2C;IAArCsB,GAAG,EAAEC,KAAA,CAAAC,YAAY;IAAKC,GAAG,EAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}