{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, withModifiers as _withModifiers, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode } from \"vue\";\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"h3\", null, \"Alarm Configuration\", -1);\nconst _hoisted_2 = [\"src\"];\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1);\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1);\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1);\nconst _hoisted_6 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1);\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"submit\"\n}, \"Add Item\", -1);\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1);\nconst _hoisted_9 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1);\nconst _hoisted_10 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1);\nconst _hoisted_11 = /*#__PURE__*/_createElementVNode(\"thead\", null, [/*#__PURE__*/_createElementVNode(\"tr\", null, [/*#__PURE__*/_createElementVNode(\"th\", null, \"PLC ID\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Address\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Alarm Message\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Action\")])], -1);\nconst _hoisted_12 = {\n  key: 0\n};\nconst _hoisted_13 = {\n  key: 1\n};\nconst _hoisted_14 = {\n  key: 2\n};\nconst _hoisted_15 = [\"onSubmit\"];\nconst _hoisted_16 = /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"submit\"\n}, \"Update\", -1);\nconst _hoisted_17 = [\"onClick\"];\nconst _hoisted_18 = [\"onClick\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", null, [_hoisted_1, _createElementVNode(\"img\", {\n    src: $data.imageUrl,\n    alt: \"Image\",\n    style: {\n      \"width\": \"500px\",\n      \"height\": \"300px\"\n    }\n  }, null, 8, _hoisted_2), _hoisted_3, _hoisted_4, _hoisted_5, _hoisted_6, _createElementVNode(\"form\", {\n    onSubmit: _cache[2] || (_cache[2] = _withModifiers((...args) => $options.addItem && $options.addItem(...args), [\"prevent\"]))\n  }, [_withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.newItemText = $event),\n    type: \"text\",\n    placeholder: \"Enter item text\",\n    required: \"\"\n  }, null, 512), [[_vModelText, $data.newItemText]]), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.newItemAlarm = $event),\n    type: \"text\",\n    placeholder: \"Enter alarm message\",\n    required: \"\"\n  }, null, 512), [[_vModelText, $data.newItemAlarm]]), _hoisted_7], 32), _hoisted_8, _hoisted_9, _hoisted_10, _createElementVNode(\"table\", null, [_hoisted_11, _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.items, (item, index) => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: item.id\n    }, [index !== $data.editIndex ? (_openBlock(), _createElementBlock(\"td\", _hoisted_12, _toDisplayString(item.plc_id), 1)) : _createCommentVNode(\"\", true), index !== $data.editIndex ? (_openBlock(), _createElementBlock(\"td\", _hoisted_13, _toDisplayString(item.text), 1)) : (_openBlock(), _createElementBlock(\"td\", _hoisted_14, [_createElementVNode(\"form\", {\n      onSubmit: _withModifiers($event => $options.updateItem(index), [\"prevent\"])\n    }, [_withDirectives(_createElementVNode(\"input\", {\n      \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.editedItemText = $event),\n      type: \"text\",\n      required: \"\"\n    }, null, 512), [[_vModelText, $data.editedItemText]]), _withDirectives(_createElementVNode(\"input\", {\n      \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $data.editedItemAlarm = $event),\n      type: \"text\",\n      required: \"\"\n    }, null, 512), [[_vModelText, $data.editedItemAlarm]]), _hoisted_16, _createElementVNode(\"button\", {\n      onClick: _cache[5] || (_cache[5] = (...args) => $options.cancelEdit && $options.cancelEdit(...args))\n    }, \"Cancel\")], 40, _hoisted_15)])), _createElementVNode(\"td\", null, _toDisplayString(item.alarm), 1), _createElementVNode(\"td\", null, [index !== $data.editIndex ? (_openBlock(), _createElementBlock(\"button\", {\n      key: 0,\n      onClick: $event => $options.editItem(index)\n    }, \"Edit\", 8, _hoisted_17)) : _createCommentVNode(\"\", true), _createElementVNode(\"button\", {\n      onClick: $event => $options.deleteItem(item.id)\n    }, \"Delete\", 8, _hoisted_18)])]);\n  }), 128))])])]);\n}","map":{"version":3,"names":["_createElementVNode","type","_createElementBlock","_hoisted_1","src","$data","imageUrl","alt","style","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","onSubmit","_cache","_withModifiers","args","$options","addItem","newItemText","$event","placeholder","required","newItemAlarm","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_Fragment","_renderList","items","item","index","key","id","editIndex","_hoisted_12","_toDisplayString","plc_id","_hoisted_13","text","_hoisted_14","updateItem","editedItemText","editedItemAlarm","_hoisted_16","onClick","cancelEdit","alarm","editItem","_hoisted_17","deleteItem","_hoisted_18"],"sources":["D:\\Project\\VUEJSSPRING_CRUD_JWT\\vue-crud-api-jwt-vuex\\src\\views\\Items.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <h3>Alarm Configuration</h3>\r\n    <img :src=\"imageUrl\" alt=\"Image\" style=\"width: 500px; height: 300px;\">\r\n    <br><br><br><br>\r\n\r\n    <!-- Form for creating new item -->\r\n    <form @submit.prevent=\"addItem\">\r\n      <input v-model=\"newItemText\" type=\"text\" placeholder=\"Enter item text\" required>\r\n      <input v-model=\"newItemAlarm\" type=\"text\" placeholder=\"Enter alarm message\" required>\r\n      <button type=\"submit\">Add Item</button>\r\n    </form>\r\n    <br><br><br>\r\n\r\n    <!-- List of items -->\r\n    <table>\r\n      <thead>\r\n        <tr>\r\n          <th>PLC ID</th>\r\n          <th>Address</th>\r\n          <th>Alarm Message</th>\r\n          <th>Action</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr v-for=\"(item, index) in items\" :key=\"item.id\">\r\n          <td v-if=\"index !== editIndex\">{{ item.plc_id }}</td>\r\n          <td v-if=\"index !== editIndex\">{{ item.text }}</td>\r\n          <td v-else>\r\n            <form @submit.prevent=\"updateItem(index)\">\r\n              <input v-model=\"editedItemText\" type=\"text\" required>\r\n              <input v-model=\"editedItemAlarm\" type=\"text\" required>\r\n              <button type=\"submit\">Update</button>\r\n              <button @click=\"cancelEdit\">Cancel</button>\r\n            </form>\r\n          </td>\r\n          <td>{{ item.alarm }}</td>\r\n          <td>\r\n            <button @click=\"editItem(index)\" v-if=\"index !== editIndex\">Edit</button>\r\n            <button @click=\"deleteItem(item.id)\">Delete</button>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      imageUrl: './AlarmConfiguration.png',  // Replace with the URL of your image\r\n      items: [],                // Array to store items\r\n      newItemText: '',          // Text for new item\r\n      newItemAlarm: '',         // Alarm message for new item\r\n      editIndex: null,          // Index of item being edited (-1 for new item)\r\n      editedItemText: '',       // Text for the item being edited\r\n      editedItemAlarm: '',      // Alarm message for the item being edited\r\n    };\r\n  },\r\n  mounted() {\r\n    this.fetchItems();\r\n  },\r\n  methods: {\r\n    fetchItems() {\r\n      // Your code to fetch items using axios\r\n      \r\n      const sessionCookie = document.cookie.replace(\r\n          /(?:(?:^|.*;\\s*)access_Token\\s*\\=\\s*([^;]*).*$)|^.*$/,\r\n          '$1'\r\n        );\r\n        const blobCookie = document.cookie.replace(\r\n            /(?:(?:^|.*;\\s*)blob_data\\s*\\=\\s*([^;]*).*$)|^.*$/,\r\n            '$1'\r\n          );\r\n\r\n        \r\n        axios.get('http://localhost:8082/api/items', {\r\n          headers: {\r\n            Authorization: `Bearer ${sessionCookie}`,\r\n          },\r\n        })\r\n          .then(response => {\r\n            this.items = response.data;\r\n          })\r\n          .catch(error => {\r\n            console.error('Error fetching items:', error);\r\n          });\r\n\r\n\r\n    },\r\n    addItem() {\r\n      // Your code to add an item using axios\r\n\r\n      const sessionCookie = document.cookie.replace(\r\n          /(?:(?:^|.*;\\s*)access_Token\\s*\\=\\s*([^;]*).*$)|^.*$/,\r\n          '$1'\r\n        );\r\n\r\n        const blobCookie = document.cookie.replace(\r\n            /(?:(?:^|.*;\\s*)blob_data\\s*\\=\\s*([^;]*).*$)|^.*$/,\r\n            '$1'\r\n          );\r\n\r\n        const newItem = {\r\n          text: this.newItemText,\r\n          alarm: this.newItemAlarm,\r\n        };\r\n        console.log(newItem);\r\n        axios.post('http://localhost:8082/api/items', newItem, {\r\n          headers: {\r\n            Authorization: `Bearer ${sessionCookie}`,\r\n\r\n          },\r\n        })\r\n          .then(response => {\r\n            this.items.push(response.data);\r\n            this.newItemText = '';\r\n            this.newItemAlarm = '';\r\n          })\r\n          .catch(error => {\r\n            console.error('Error adding item:', error);\r\n          });\r\n\r\n\r\n\r\n    },\r\n    editItem(index) {\r\n      // Your code to edit an item\r\n      this.editIndex = index;\r\n        this.editedItemText = this.items[index].text;\r\n        this.editedItemAlarm = this.items[index].alarm;\r\n    },\r\n    updateItem(index) {\r\n      // Your code to update an item using axios\r\n\r\n      const sessionCookie = document.cookie.replace(\r\n          /(?:(?:^|.*;\\s*)access_Token\\s*\\=\\s*([^;]*).*$)|^.*$/,\r\n          '$1'\r\n        );\r\n\r\n        const blobCookie = document.cookie.replace(\r\n            /(?:(?:^|.*;\\s*)blob_data\\s*\\=\\s*([^;]*).*$)|^.*$/,\r\n            '$1'\r\n          ); \r\n        const updatedItem = {\r\n          id: this.items[this.editIndex].id,\r\n          text: this.editedItemText,\r\n          alarm: this.editedItemAlarm,\r\n        };\r\n  \r\n        axios.put(`http://localhost:8082/api/items/${updatedItem.id}`, updatedItem, {\r\n          headers: {\r\n            Authorization: `Bearer ${sessionCookie}`,\r\n\r\n          },\r\n        })\r\n          .then(() => {\r\n            this.items[this.editIndex].text = this.editedItemText;\r\n            this.items[this.editIndex].alarm = this.editedItemAlarm;\r\n            this.cancelEdit();\r\n          })\r\n          .catch(error => {\r\n            console.error('Error updating item:', error);\r\n          });\r\n\r\n\r\n\r\n    },\r\n    cancelEdit() {\r\n      // Your code to cancel the item edit\r\n\r\n      this.editIndex = null;\r\n        this.editedItemText = '';\r\n    },\r\n    deleteItem(itemId) {\r\n      // Your code to delete an item using axios\r\n\r\n      const sessionCookie = document.cookie.replace(\r\n          /(?:(?:^|.*;\\s*)access_Token\\s*\\=\\s*([^;]*).*$)|^.*$/,\r\n          '$1'\r\n        );\r\n\r\n        const blobCookie = document.cookie.replace(\r\n            /(?:(?:^|.*;\\s*)blob_data\\s*\\=\\s*([^;]*).*$)|^.*$/,\r\n            '$1'\r\n          );\r\n\r\n        axios.delete(`http://localhost:8082/api/items/${itemId}`, {\r\n          headers: {\r\n            Authorization: `Bearer ${sessionCookie}`,\r\n          },\r\n        })\r\n          .then(() => {\r\n            this.items = this.items.filter(item => item.id !== itemId);\r\n          })\r\n          .catch(error => {\r\n            console.error('Error deleting item:', error);\r\n          });\r\n\r\n\r\n\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\ntable {\r\n  border-collapse: collapse;\r\n  width: 100%;\r\n}\r\n\r\nth, td {\r\n  border: 1px solid black;\r\n  padding: 8px;\r\n  text-align: center;\r\n}\r\n\r\nth {\r\n  background-color: #f2f2f2;\r\n}\r\n\r\nform {\r\n  display: inline-block;\r\n  border: 1px solid black;\r\n  padding: 8px;\r\n  text-align: center;\r\n}\r\n\r\nform input[type=\"text\"],\r\nform button {\r\n  display: block;\r\n  margin: 0 auto;\r\n  padding: 4px 8px;\r\n}\r\n\r\nform button {\r\n  margin-top: 8px;\r\n}\r\n</style>\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}