{"ast":null,"code":"'use strict';\n\nvar KafkaBuffer = function (batchSize, batchAge) {\n  this._batch_size = batchSize;\n  this._batch_age = batchAge;\n  this._batch_age_timer = null;\n  this._buffer = null;\n};\nKafkaBuffer.prototype.addChunk = function (buffer, callback) {\n  if (this._buffer == null) {\n    this._buffer = Buffer.from(buffer);\n  } else {\n    this._buffer = Buffer.concat([this._buffer, buffer]);\n  }\n  if (typeof callback !== 'undefined' && callback != null) {\n    if (this._batch_size == null || this._batch_age == null || this._buffer && this._buffer.length > this._batch_size) {\n      callback();\n    } else {\n      this._setupTimer(callback);\n    }\n  }\n};\nKafkaBuffer.prototype._setupTimer = function (callback) {\n  var self = this;\n  if (this._batch_age_timer != null) {\n    clearTimeout(this._batch_age_timer);\n  }\n  this._batch_age_timer = setTimeout(function () {\n    if (self._buffer && self._buffer.length > 0) {\n      callback();\n    }\n  }, this._batch_age);\n};\nKafkaBuffer.prototype.getBatch = function () {\n  return this._buffer;\n};\nKafkaBuffer.prototype.truncateBatch = function () {\n  this._buffer = null;\n};\nmodule.exports = KafkaBuffer;","map":{"version":3,"names":["KafkaBuffer","batchSize","batchAge","_batch_size","_batch_age","_batch_age_timer","_buffer","prototype","addChunk","buffer","callback","Buffer","from","concat","length","_setupTimer","self","clearTimeout","setTimeout","getBatch","truncateBatch","module","exports"],"sources":["D:/Project/VUEJSSPRING_CRUD_JWT/vue-crud-api-jwt-vuex/node_modules/kafka-node/lib/batch/KafkaBuffer.js"],"sourcesContent":["'use strict';\n\nvar KafkaBuffer = function (batchSize, batchAge) {\n  this._batch_size = batchSize;\n  this._batch_age = batchAge;\n  this._batch_age_timer = null;\n  this._buffer = null;\n};\n\nKafkaBuffer.prototype.addChunk = function (buffer, callback) {\n  if (this._buffer == null) {\n    this._buffer = Buffer.from(buffer);\n  } else {\n    this._buffer = Buffer.concat([this._buffer, buffer]);\n  }\n\n  if (typeof callback !== 'undefined' && callback != null) {\n    if (\n      this._batch_size == null ||\n      this._batch_age == null ||\n      (this._buffer && this._buffer.length > this._batch_size)\n    ) {\n      callback();\n    } else {\n      this._setupTimer(callback);\n    }\n  }\n};\n\nKafkaBuffer.prototype._setupTimer = function (callback) {\n  var self = this;\n\n  if (this._batch_age_timer != null) {\n    clearTimeout(this._batch_age_timer);\n  }\n\n  this._batch_age_timer = setTimeout(function () {\n    if (self._buffer && self._buffer.length > 0) {\n      callback();\n    }\n  }, this._batch_age);\n};\n\nKafkaBuffer.prototype.getBatch = function () {\n  return this._buffer;\n};\n\nKafkaBuffer.prototype.truncateBatch = function () {\n  this._buffer = null;\n};\n\nmodule.exports = KafkaBuffer;\n"],"mappings":"AAAA,YAAY;;AAEZ,IAAIA,WAAW,GAAG,SAAAA,CAAUC,SAAS,EAAEC,QAAQ,EAAE;EAC/C,IAAI,CAACC,WAAW,GAAGF,SAAS;EAC5B,IAAI,CAACG,UAAU,GAAGF,QAAQ;EAC1B,IAAI,CAACG,gBAAgB,GAAG,IAAI;EAC5B,IAAI,CAACC,OAAO,GAAG,IAAI;AACrB,CAAC;AAEDN,WAAW,CAACO,SAAS,CAACC,QAAQ,GAAG,UAAUC,MAAM,EAAEC,QAAQ,EAAE;EAC3D,IAAI,IAAI,CAACJ,OAAO,IAAI,IAAI,EAAE;IACxB,IAAI,CAACA,OAAO,GAAGK,MAAM,CAACC,IAAI,CAACH,MAAM,CAAC;EACpC,CAAC,MAAM;IACL,IAAI,CAACH,OAAO,GAAGK,MAAM,CAACE,MAAM,CAAC,CAAC,IAAI,CAACP,OAAO,EAAEG,MAAM,CAAC,CAAC;EACtD;EAEA,IAAI,OAAOC,QAAQ,KAAK,WAAW,IAAIA,QAAQ,IAAI,IAAI,EAAE;IACvD,IACE,IAAI,CAACP,WAAW,IAAI,IAAI,IACxB,IAAI,CAACC,UAAU,IAAI,IAAI,IACtB,IAAI,CAACE,OAAO,IAAI,IAAI,CAACA,OAAO,CAACQ,MAAM,GAAG,IAAI,CAACX,WAAY,EACxD;MACAO,QAAQ,CAAC,CAAC;IACZ,CAAC,MAAM;MACL,IAAI,CAACK,WAAW,CAACL,QAAQ,CAAC;IAC5B;EACF;AACF,CAAC;AAEDV,WAAW,CAACO,SAAS,CAACQ,WAAW,GAAG,UAAUL,QAAQ,EAAE;EACtD,IAAIM,IAAI,GAAG,IAAI;EAEf,IAAI,IAAI,CAACX,gBAAgB,IAAI,IAAI,EAAE;IACjCY,YAAY,CAAC,IAAI,CAACZ,gBAAgB,CAAC;EACrC;EAEA,IAAI,CAACA,gBAAgB,GAAGa,UAAU,CAAC,YAAY;IAC7C,IAAIF,IAAI,CAACV,OAAO,IAAIU,IAAI,CAACV,OAAO,CAACQ,MAAM,GAAG,CAAC,EAAE;MAC3CJ,QAAQ,CAAC,CAAC;IACZ;EACF,CAAC,EAAE,IAAI,CAACN,UAAU,CAAC;AACrB,CAAC;AAEDJ,WAAW,CAACO,SAAS,CAACY,QAAQ,GAAG,YAAY;EAC3C,OAAO,IAAI,CAACb,OAAO;AACrB,CAAC;AAEDN,WAAW,CAACO,SAAS,CAACa,aAAa,GAAG,YAAY;EAChD,IAAI,CAACd,OAAO,GAAG,IAAI;AACrB,CAAC;AAEDe,MAAM,CAACC,OAAO,GAAGtB,WAAW"},"metadata":{},"sourceType":"script","externalDependencies":[]}