{"ast":null,"code":"'use strict';\n\nrequire(\"core-js/modules/es.array.push.js\");\nvar BrokerReadable = require('./BrokerReadable');\nvar BrokerTransform = require('./BrokerTransform');\nconst util = require('util');\nconst EventEmitter = require('events');\nvar BrokerWrapper = function (socket, noAckBatchOptions, idleConnectionMs, needAuthentication) {\n  EventEmitter.call(this);\n  this.socket = socket;\n  this.idleConnectionMs = idleConnectionMs;\n  this.needAuthentication = !!needAuthentication;\n  this.authenticated = false;\n  var self = this;\n  var readable = new BrokerReadable();\n  var transform = new BrokerTransform(noAckBatchOptions);\n  readable.pipe(transform);\n  transform.on('readable', function () {\n    var bulkMessage = null;\n    self._lastWrite = Date.now();\n    while (bulkMessage = transform.read()) {\n      // eslint-disable-line no-cond-assign\n      self.socket.write(bulkMessage);\n    }\n  });\n  this.readableSocket = readable;\n};\nutil.inherits(BrokerWrapper, EventEmitter);\nBrokerWrapper.prototype.getReadyEventName = function () {\n  const lp = this.socket.longpolling ? '-longpolling' : '';\n  return `${this.socket.addr}${lp}-ready`;\n};\nBrokerWrapper.prototype.isConnected = function () {\n  return !this.socket.destroyed && !this.socket.closing && !this.socket.error;\n};\nBrokerWrapper.prototype.isReady = function () {\n  return this.apiSupport != null && (!this.needAuthentication || this.authenticated);\n};\nBrokerWrapper.prototype.isIdle = function () {\n  return Date.now() - this._lastWrite >= this.idleConnectionMs;\n};\nBrokerWrapper.prototype.write = function (buffer) {\n  this._lastWrite = Date.now();\n  this.socket.write(buffer);\n};\nBrokerWrapper.prototype.writeAsync = function (buffer) {\n  this.readableSocket.push(buffer);\n};\nBrokerWrapper.prototype.toString = function () {\n  return `[${this.constructor.name} ${this.socket.addr} (connected: ${this.isConnected()}) (ready: ${this.isReady()}) (idle: ${this.isIdle()}) (needAuthentication: ${this.needAuthentication}) (authenticated: ${this.authenticated})]`;\n};\nmodule.exports = BrokerWrapper;","map":{"version":3,"names":["require","BrokerReadable","BrokerTransform","util","EventEmitter","BrokerWrapper","socket","noAckBatchOptions","idleConnectionMs","needAuthentication","call","authenticated","self","readable","transform","pipe","on","bulkMessage","_lastWrite","Date","now","read","write","readableSocket","inherits","prototype","getReadyEventName","lp","longpolling","addr","isConnected","destroyed","closing","error","isReady","apiSupport","isIdle","buffer","writeAsync","push","toString","constructor","name","module","exports"],"sources":["D:/Project/VUEJSSPRING_CRUD_JWT/vue-crud-api-jwt-vuex/node_modules/kafka-node/lib/wrapper/BrokerWrapper.js"],"sourcesContent":["'use strict';\n\nvar BrokerReadable = require('./BrokerReadable');\nvar BrokerTransform = require('./BrokerTransform');\n\nconst util = require('util');\nconst EventEmitter = require('events');\n\nvar BrokerWrapper = function (socket, noAckBatchOptions, idleConnectionMs, needAuthentication) {\n  EventEmitter.call(this);\n  this.socket = socket;\n  this.idleConnectionMs = idleConnectionMs;\n  this.needAuthentication = !!needAuthentication;\n  this.authenticated = false;\n\n  var self = this;\n  var readable = new BrokerReadable();\n  var transform = new BrokerTransform(noAckBatchOptions);\n\n  readable.pipe(transform);\n\n  transform.on('readable', function () {\n    var bulkMessage = null;\n    self._lastWrite = Date.now();\n    while ((bulkMessage = transform.read())) {\n      // eslint-disable-line no-cond-assign\n      self.socket.write(bulkMessage);\n    }\n  });\n\n  this.readableSocket = readable;\n};\n\nutil.inherits(BrokerWrapper, EventEmitter);\n\nBrokerWrapper.prototype.getReadyEventName = function () {\n  const lp = this.socket.longpolling ? '-longpolling' : '';\n  return `${this.socket.addr}${lp}-ready`;\n};\n\nBrokerWrapper.prototype.isConnected = function () {\n  return !this.socket.destroyed && !this.socket.closing && !this.socket.error;\n};\n\nBrokerWrapper.prototype.isReady = function () {\n  return this.apiSupport != null && (!this.needAuthentication || this.authenticated);\n};\n\nBrokerWrapper.prototype.isIdle = function () {\n  return Date.now() - this._lastWrite >= this.idleConnectionMs;\n};\n\nBrokerWrapper.prototype.write = function (buffer) {\n  this._lastWrite = Date.now();\n  this.socket.write(buffer);\n};\n\nBrokerWrapper.prototype.writeAsync = function (buffer) {\n  this.readableSocket.push(buffer);\n};\n\nBrokerWrapper.prototype.toString = function () {\n  return `[${this.constructor.name} ${\n    this.socket.addr\n  } (connected: ${this.isConnected()}) (ready: ${\n    this.isReady()\n  }) (idle: ${\n    this.isIdle()\n  }) (needAuthentication: ${\n    this.needAuthentication\n  }) (authenticated: ${\n    this.authenticated\n  })]`;\n};\n\nmodule.exports = BrokerWrapper;\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}